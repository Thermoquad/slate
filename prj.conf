# SPDX-License-Identifier: GPL-2.0-or-later

# Networking
CONFIG_NETWORKING=y
CONFIG_TEST_RANDOM_GENERATOR=y
CONFIG_NET_SOCKETS=y
CONFIG_POSIX_API=y

# Stack Sizes (non-default)
CONFIG_MAIN_STACK_SIZE=5200
CONFIG_SHELL_STACK_SIZE=5200
CONFIG_NET_TX_STACK_SIZE=2048
CONFIG_NET_RX_STACK_SIZE=2048

# Network Buffers (increased for WiFi + mDNS + WebSocket)
CONFIG_NET_PKT_RX_COUNT=16
CONFIG_NET_PKT_TX_COUNT=16
CONFIG_NET_BUF_RX_COUNT=128
CONFIG_NET_BUF_TX_COUNT=128
CONFIG_NET_BUF_DATA_SIZE=128
CONFIG_NET_MAX_CONTEXTS=32
CONFIG_NET_MAX_CONN=32
CONFIG_NET_DHCPV4=y

CONFIG_NET_IPV4=y
CONFIG_NET_TCP=y

# Hostname Configuration
CONFIG_NET_HOSTNAME_ENABLE=y
CONFIG_NET_HOSTNAME_DYNAMIC=y
CONFIG_NET_HOSTNAME="slate-thermoquad"
CONFIG_NET_HOSTNAME_MAX_LEN=63

# mDNS Responder
CONFIG_MDNS_RESPONDER=y

# HTTP Server with WebSocket
CONFIG_HTTP_PARSER=y
CONFIG_HTTP_PARSER_URL=y
CONFIG_HTTP_SERVER=y
CONFIG_HTTP_SERVER_MAX_CLIENTS=4
CONFIG_HTTP_SERVER_MAX_URL_LENGTH=128
CONFIG_HTTP_SERVER_WEBSOCKET=y
CONFIG_HTTP_SERVER_CAPTURE_HEADERS=y
CONFIG_HTTP_SERVER_MAX_HEADER_LEN=512
CONFIG_HTTP_SERVER_CAPTURE_HEADER_BUFFER_SIZE=1024
CONFIG_HTTP_SERVER_CAPTURE_HEADER_COUNT=4
CONFIG_WEBSOCKET_MAX_CONTEXTS=4

# POSIX File Descriptors for Sockets
CONFIG_ZVFS_OPEN_MAX=36
CONFIG_ZVFS_POLL_MAX=32

# Eventfd for WebSocket
CONFIG_EVENTFD=y
CONFIG_ZVFS_EVENTFD_MAX=10

CONFIG_NET_LOG=y
CONFIG_NET_SHELL=y
CONFIG_NET_STATISTICS=y

CONFIG_WIFI=y
CONFIG_WIFI_LOG_LEVEL_ERR=y
# printing of scan results puts pressure on queues in new locking
# design in net_mgmt. So, use a higher timeout for a crowded
# environment.
CONFIG_NET_MGMT_EVENT_QUEUE_TIMEOUT=5000
CONFIG_NET_MGMT_EVENT_QUEUE_SIZE=16

# Flash Storage for Configuration
CONFIG_FLASH=y

# NVS for WiFi Credentials
CONFIG_NVS=y
CONFIG_NVS_DATA_CRC=y

# Hardware Info (device ID for hostname)
CONFIG_HWINFO=y
CONFIG_HWINFO_RPI_PICO_CHIP_ID=y

# Logging
CONFIG_LOG=y
CONFIG_SHELL_LOG_BACKEND=y
CONFIG_LOG_RUNTIME_FILTERING=y
CONFIG_LOG_CMDS=y

# Input
CONFIG_INPUT=y
CONFIG_INPUT_GPIO_QDEC=y

# Serial Communication
CONFIG_SERIAL=y

# Shell
CONFIG_SHELL=y
CONFIG_KERNEL_SHELL=y
CONFIG_DEVICE_SHELL=y

# Reboot Command (non-default delay)
CONFIG_REBOOT=y
CONFIG_KERNEL_SHELL_REBOOT_DELAY=250

# Statistics
CONFIG_STATS=y
CONFIG_STATS_NAMES=y
CONFIG_STATS_SHELL=y

# Zbus Message Bus
CONFIG_ZBUS=y

# Fusain Serial Protocol Library
CONFIG_FUSAIN=y

# Slate Configuration
CONFIG_SLATE_MAX_APPLIANCES=10

# I2C for display
CONFIG_I2C=y
CONFIG_I2C_SHELL=y

# Display Subsystem
CONFIG_DISPLAY=y

# LVGL Configuration
CONFIG_LVGL=y
CONFIG_LV_Z_MEM_POOL_SIZE=16384
CONFIG_LV_COLOR_DEPTH_1=y
CONFIG_LV_Z_BITS_PER_PIXEL=1
CONFIG_LV_Z_VDB_SIZE=100
CONFIG_LV_USE_LABEL=y

# Fonts
CONFIG_LV_FONT_MONTSERRAT_12=y
CONFIG_LV_FONT_MONTSERRAT_14=y
CONFIG_LV_FONT_UNSCII_8=y
